{"remainingRequest":"C:\\Users\\我的MiBook\\Desktop\\my program\\jdmall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\我的MiBook\\Desktop\\my program\\jdmall\\src\\pages\\Cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\我的MiBook\\Desktop\\my program\\jdmall\\src\\pages\\Cart.vue","mtime":1592488193869},{"path":"C:\\Users\\我的MiBook\\Desktop\\my program\\jdmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\我的MiBook\\Desktop\\my program\\jdmall\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\我的MiBook\\Desktop\\my program\\jdmall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\我的MiBook\\Desktop\\my program\\jdmall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\我的MiBook\\Desktop\\my program\\jdmall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBOYXZIZWFkZXIgZnJvbSAnLi8uLi9jb21wb25lbnRzL0hlYWRlcicKaW1wb3J0IE5hdkZvb3RlciBmcm9tICcuLy4uL2NvbXBvbmVudHMvRm9vdGVyJwppbXBvcnQgTW9kYWwgZnJvbSAnLi8uLi9jb21wb25lbnRzL01vZGFsJwpleHBvcnQgZGVmYXVsdHsKICAgIGRhdGEoKXsKICAgICAgICByZXR1cm57CiAgICAgICAgICBjYXJ0TGlzdDpbXSwKICAgICAgICAgIG1vZGFsQ29uZmlybTpmYWxzZQogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOnsKICAgICAgTmF2SGVhZGVyLAogICAgICBOYXZGb290ZXIsCiAgICAgIE1vZGFsCiAgICB9LAogICAgY29tcHV0ZWQ6ewogICAgICAvLyDlvZPpgInkuK3nmoTmlbDph4/lkozotK3nianovabllYblk4HmlbDph4/kuIDmoLflpJrnmoTml7blgJnvvIzooajnpLrlhajpgInvvIxldmVyeeWIpOaWreaYr+WQpuWFqOmDqOa7oei2swogICAgICBjaGVja0FsbEZsYWcoKXsKICAgICAgICByZXR1cm4gdGhpcy5jYXJ0TGlzdC5ldmVyeSgoaXRlbSk9PnsKICAgICAgICAgIHJldHVybiBpdGVtLmNoZWNrZWQ7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIC8vIOWIpOaWreW9k+WJjeacieayoeaciemAieS4reeahOWVhuWTgSxzb21l5Yik5pat5piv5ZCm5pyJ5ruh6Laz55qE5YWD57SgCiAgICAgIGNoZWNrZWRDb3VudCgpewogICAgICAgIHJldHVybiB0aGlzLmNhcnRMaXN0LnNvbWUoKGl0ZW0pPT5pdGVtLmNoZWNrZWQpCiAgICAgIH0sCiAgICAgIC8vIOiuoeeul+aAu+mHkeminQogICAgICB0b3RhbFByaWNlKCl7CiAgICAgICAgbGV0IG1vbmV5ID0gMDsKICAgICAgICB0aGlzLmNhcnRMaXN0LmZvckVhY2goKGl0ZW0pPT57CiAgICAgICAgICBpZihpdGVtLmNoZWNrZWQpewogICAgICAgICAgICBtb25leSArPSBpdGVtLnByb2R1Y3RQcmljZSppdGVtLnByb2R1Y3ROdW07CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgICByZXR1cm4gbW9uZXk7CiAgICAgIH0KICAgIH0sCiAgICBtb3VudGVkKCl7CiAgICAgIC8vIOWIneWni+WMlui0reeJqei9puWIl+ihqAogICAgICB0aGlzLmluaXQoKTsKICAgIH0sCiAgICBmaWx0ZXJzOiB7CiAgICAgIGN1cnJlbmN5OiBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgICBpZiAoIXZhbHVlKSByZXR1cm4gJzAuMDAnCiAgICAgICAgdmFsdWUgPSB2YWx1ZSoxOwogICAgICAgIHJldHVybiAn77+lJyArIHZhbHVlLnRvRml4ZWQoMik7CiAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgaW5pdCgpewogICAgICAgIHRoaXMuYXhpb3MuZ2V0KCIvbW9jay9jYXJ0Lmpzb24iKS50aGVuKChyZXNwb25zZSk9PnsKICAgICAgICAgICAgbGV0IHJlcyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICAgIHRoaXMuY2FydExpc3QgPSByZXMuZGF0YTsKICAgICAgICB9KTsKICAgICAgfSwKICAgICAgLy8g5YWz6Zet5by55qGGCiAgICAgIGNsb3NlTW9kYWwoKXsKICAgICAgICB0aGlzLm1vZGFsQ29uZmlybSA9IGZhbHNlOwogICAgICB9LAogICAgICAvLyDliKDpmaTnoa7orqQKICAgICAgZGVsQ2FydENvbmZpcm0oaXRlbSl7CiAgICAgICAgICB0aGlzLmRlbEl0ZW0gPSBpdGVtOwogICAgICAgICAgdGhpcy5tb2RhbENvbmZpcm0gPSB0cnVlOwogICAgICB9LAogICAgICAvLyDliKDpmaQKICAgICAgZGVsQ2FydCgpewogICAgICAgIGxldCBkZWxJdGVtID0gdGhpcy5kZWxJdGVtOwogICAgICAgIHRoaXMuY2FydExpc3QuZm9yRWFjaCgoaXRlbSxpbmRleCk9PnsKICAgICAgICAgIGlmKGRlbEl0ZW0ucHJvZHVjdElkID09IGl0ZW0ucHJvZHVjdElkKXsKICAgICAgICAgICAgdGhpcy5jYXJ0TGlzdC5zcGxpY2UoaW5kZXgsMSk7CiAgICAgICAgICAgIHRoaXMubW9kYWxDb25maXJtID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSwKICAgICAgLy8g5L+u5pS55ZWG5ZOB5a+56LGh77yI5pWw6YeP5ZKM6YCJ5Lit77yJCiAgICAgIGVkaXRDYXJ0KGZsYWcsaXRlbSl7CiAgICAgICAgICBpZihmbGFnPT0nYWRkJyl7CiAgICAgICAgICAgIGl0ZW0ucHJvZHVjdE51bSsrOwogICAgICAgICAgfWVsc2UgaWYoZmxhZz09J21pbnVzJyl7CiAgICAgICAgICAgIGlmKGl0ZW0ucHJvZHVjdE51bTw9MSl7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGl0ZW0ucHJvZHVjdE51bS0tOwogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIGl0ZW0uY2hlY2tlZCA9IGl0ZW0uY2hlY2tlZD9mYWxzZTp0cnVlOwogICAgICAgICAgfQogICAgICB9LAogICAgICB0b2dnbGVDaGVja0FsbCgpewogICAgICAgICAgdmFyIGZsYWcgPSAhdGhpcy5jaGVja0FsbEZsYWc7CiAgICAgICAgICB0aGlzLmNhcnRMaXN0LmZvckVhY2goKGl0ZW0pPT57CiAgICAgICAgICAgIGl0ZW0uY2hlY2tlZCA9IGZsYWc/dHJ1ZTpmYWxzZTsKICAgICAgICAgIH0pCiAgICAgIH0sCiAgICAgIGNoZWNrT3V0KCl7CiAgICAgICAgICBpZih0aGlzLmNoZWNrZWRDb3VudD4wKXsKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIHBhdGg6Ii9hZGRyZXNzIgogICAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["Cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Cart.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n  <div>\r\n    <nav-header></nav-header>\r\n    <div class=\"nav-breadcrumb-wrap\">\r\n      <div class=\"container\">\r\n        <nav class=\"nav-breadcrumb\">\r\n          <a href=\"/\">首页</a>\r\n          <span>购物车</span>\r\n        </nav>\r\n      </div>\r\n    </div>\r\n    <!-- 定义购物车页面图标 -->\r\n    <svg style=\"position: absolute; width: 0; height: 0; overflow: hidden;\" version=\"1.1\"\r\n         xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\r\n      <defs>\r\n        <symbol id=\"icon-ok\" viewBox=\"0 0 32 32\">\r\n          <title>ok</title>\r\n          <path class=\"path1\"\r\n                d=\"M31.020 0.438c-0.512-0.363-1.135-0.507-1.757-0.406s-1.166 0.435-1.529 0.937l-17.965 24.679-5.753-5.67c-0.445-0.438-1.035-0.679-1.664-0.679s-1.219 0.241-1.664 0.679c-0.917 0.904-0.917 2.375 0 3.279l7.712 7.6c0.438 0.432 1.045 0.681 1.665 0.681l0.195-0.008c0.688-0.057 1.314-0.406 1.717-0.959l19.582-26.9c0.754-1.038 0.512-2.488-0.538-3.233z\"></path>\r\n        </symbol>\r\n        <symbol id=\"icon-del\" viewBox=\"0 0 32 32\">\r\n          <title>delete</title>\r\n          <path class=\"path1\"\r\n                d=\"M11.355 4.129v-2.065h9.29v2.065h-9.29zM6.194 29.935v-23.742h19.613v23.742h-19.613zM30.968 4.129h-8.258v-3.097c0-0.569-0.463-1.032-1.032-1.032h-11.355c-0.569 0-1.032 0.463-1.032 1.032v3.097h-8.258c-0.569 0-1.032 0.463-1.032 1.032s0.463 1.032 1.032 1.032h3.097v24.774c0 0.569 0.463 1.032 1.032 1.032h21.677c0.569 0 1.032-0.463 1.032-1.032v-24.774h3.097c0.569 0 1.032-0.463 1.032-1.032s-0.463-1.032-1.032-1.032v0z\"></path>\r\n          <path class=\"path2\"\r\n                d=\"M10.323 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z\"></path>\r\n          <path class=\"path3\"\r\n                d=\"M16 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z\"></path>\r\n          <path class=\"path4\"\r\n                d=\"M21.677 9.806c-0.569 0-1.032 0.463-1.032 1.032v14.452c0 0.569 0.463 1.032 1.032 1.032s1.032-0.463 1.032-1.032v-14.452c0-0.569-0.463-1.032-1.032-1.032z\"></path>\r\n        </symbol>\r\n      </defs>\r\n    </svg>\r\n    <div class=\"container\">\r\n      <div class=\"cart\">\r\n        <div class=\"page-title-normal\">\r\n          <h2 class=\"page-title-h2\"><span>我的购物车</span></h2>\r\n        </div>\r\n        <div class=\"item-list-wrap\">\r\n          <div class=\"cart-item\">\r\n            <div class=\"cart-item-head\">\r\n              <ul>\r\n                <li>商品信息</li>\r\n                <li>商品金额</li>\r\n                <li>商品数量</li>\r\n                <li>总金额</li>\r\n                <li>编辑</li>\r\n              </ul>\r\n            </div>\r\n            <ul class=\"cart-item-list\">\r\n              <li v-for=\"item in cartList\" :key=item >\r\n                <div class=\"cart-tab-1\">\r\n                  <div class=\"cart-item-check\">\r\n                    <a href=\"javascipt:;\" class=\"checkbox-btn item-check-btn\" v-bind:class=\"{'check':item.checked}\" @click=\"editCart('checked',item)\">\r\n                      <svg class=\"icon icon-ok\">\r\n                        <use xlink:href=\"#icon-ok\"></use>\r\n                      </svg>\r\n                    </a>\r\n                  </div>\r\n                  <div class=\"cart-item-pic\">\r\n                    <img v-bind:src=\"'/imgs/'+item.productImage\" v-bind:alt=\"item.productName\">\r\n                  </div>\r\n                  <div class=\"cart-item-title\">\r\n                    <div class=\"item-name\">{{item.productName}}</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"cart-tab-2\">\r\n                  <div class=\"item-price\">{{item.salePrice | currency}}</div>\r\n                </div>\r\n                <div class=\"cart-tab-3\">\r\n                  <div class=\"item-quantity\">\r\n                    <div class=\"select-self select-self-open\">\r\n                      <div class=\"select-self-area\">\r\n                        <a class=\"input-sub\" @click=\"editCart('minus',item)\">-</a>\r\n                        <span class=\"select-ipt\">{{item.productNum}}</span>\r\n                        <a class=\"input-add\" @click=\"editCart('add',item)\">+</a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"cart-tab-4\">\r\n                  <div class=\"item-price-total\">{{(item.productNum*item.productPrice) | currency }}</div>\r\n                </div>\r\n                <div class=\"cart-tab-5\">\r\n                  <div class=\"cart-item-opration\">\r\n                    <a href=\"javascript:;\" class=\"item-edit-btn\" @click=\"delCartConfirm(item)\">\r\n                      <svg class=\"icon icon-del\">\r\n                        <use xlink:href=\"#icon-del\"></use>\r\n                      </svg>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n        <div class=\"cart-foot-wrap\">\r\n          <div class=\"cart-foot-inner\">\r\n            <div class=\"cart-foot-l\">\r\n              <div class=\"item-all-check\">\r\n                <a href=\"javascipt:;\" @click=\"toggleCheckAll\">\r\n                  <span class=\"checkbox-btn item-check-btn\" v-bind:class=\"{'check':checkAllFlag}\">\r\n                      <svg class=\"icon icon-ok\"><use xlink:href=\"#icon-ok\"/></svg>\r\n                  </span>\r\n                  <span>全选</span>\r\n                </a>\r\n              </div>\r\n            </div>\r\n            <div class=\"cart-foot-r\">\r\n              <div class=\"item-total\">\r\n                总价: <span class=\"total-price\">{{totalPrice | currency}}</span>\r\n              </div>\r\n              <div class=\"btn-wrap\">\r\n                <a class=\"btn btn--red\" v-bind:class=\"{'btn--dis':checkedCount==0}\" @click=\"checkOut\">结算</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <Modal :mdShow=\"modalConfirm\" @close=\"closeModal\">\r\n      <p slot=\"message\">你确认要删除此条数据吗?</p>\r\n      <a slot=\"btnGroup\" class=\"btn btn--m\" href=\"javascript:;\" @click=\"delCart\">确认</a>\r\n      <a slot=\"btnGroup\" class=\"btn btn--m btn--red\" href=\"javascript:;\" @click=\"modalConfirm = false\">关闭</a>\r\n    </Modal>\r\n    <nav-footer></nav-footer>\r\n  </div>\r\n</template>\r\n<style scoped>\r\n    @import '.././assets/css/base.css';  \r\n    @import '.././assets/css/index.css';  \r\n</style>\r\n<script>\r\n  import NavHeader from './../components/Header'\r\n  import NavFooter from './../components/Footer'\r\n  import Modal from './../components/Modal'\r\n  export default{\r\n      data(){\r\n          return{\r\n            cartList:[],\r\n            modalConfirm:false\r\n          }\r\n      },\r\n      components:{\r\n        NavHeader,\r\n        NavFooter,\r\n        Modal\r\n      },\r\n      computed:{\r\n        // 当选中的数量和购物车商品数量一样多的时候，表示全选，every判断是否全部满足\r\n        checkAllFlag(){\r\n          return this.cartList.every((item)=>{\r\n            return item.checked;\r\n          });\r\n        },\r\n        // 判断当前有没有选中的商品,some判断是否有满足的元素\r\n        checkedCount(){\r\n          return this.cartList.some((item)=>item.checked)\r\n        },\r\n        // 计算总金额\r\n        totalPrice(){\r\n          let money = 0;\r\n          this.cartList.forEach((item)=>{\r\n            if(item.checked){\r\n              money += item.productPrice*item.productNum;\r\n            }\r\n          })\r\n          return money;\r\n        }\r\n      },\r\n      mounted(){\r\n        // 初始化购物车列表\r\n        this.init();\r\n      },\r\n      filters: {\r\n        currency: function (value) {\r\n          if (!value) return '0.00'\r\n          value = value*1;\r\n          return '￥' + value.toFixed(2);\r\n        }\r\n      },\r\n      methods:{\r\n        init(){\r\n          this.axios.get(\"/mock/cart.json\").then((response)=>{\r\n              let res = response.data;\r\n              this.cartList = res.data;\r\n          });\r\n        },\r\n        // 关闭弹框\r\n        closeModal(){\r\n          this.modalConfirm = false;\r\n        },\r\n        // 删除确认\r\n        delCartConfirm(item){\r\n            this.delItem = item;\r\n            this.modalConfirm = true;\r\n        },\r\n        // 删除\r\n        delCart(){\r\n          let delItem = this.delItem;\r\n          this.cartList.forEach((item,index)=>{\r\n            if(delItem.productId == item.productId){\r\n              this.cartList.splice(index,1);\r\n              this.modalConfirm = false;\r\n            }\r\n          })\r\n        },\r\n        // 修改商品对象（数量和选中）\r\n        editCart(flag,item){\r\n            if(flag=='add'){\r\n              item.productNum++;\r\n            }else if(flag=='minus'){\r\n              if(item.productNum<=1){\r\n                return;\r\n              }\r\n              item.productNum--;\r\n            }else{\r\n              item.checked = item.checked?false:true;\r\n            }\r\n        },\r\n        toggleCheckAll(){\r\n            var flag = !this.checkAllFlag;\r\n            this.cartList.forEach((item)=>{\r\n              item.checked = flag?true:false;\r\n            })\r\n        },\r\n        checkOut(){\r\n            if(this.checkedCount>0){\r\n                this.$router.push({\r\n                    path:\"/address\"\r\n                });\r\n            }\r\n        }\r\n      }\r\n  }\r\n</script>\r\n"]}]}